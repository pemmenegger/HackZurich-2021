(this["webpackJsonpstory-hub"]=this["webpackJsonpstory-hub"]||[]).push([[0],{61:function(e,t,s){},62:function(e,t,s){},90:function(e,t,s){"use strict";s.r(t);var n,c=s(1),a=s.n(c),r=s(19),i=s.n(r),o=(s(61),s(62),s(25)),l=s(7),u=s(20),j=s.n(u),b=s(26),d=s(45),h=s(46),m=s(51),x=s(50),f=s(17),O=s(0),v=function(e){return Object(O.jsx)("div",{className:"font-body",children:e.children})},p=function(e){return Object(O.jsx)("div",{className:"absolute bottom-6 w-11/12",children:e.children})},g=function(e){return Object(O.jsx)("img",{src:"/HackZurich21/logo.png",title:"Story Hub",className:"mt-12 mb-9 mr-auto ml-auto w-16 h-auto",alt:"Story Hub Logo"})},y=function(e){return Object(O.jsx)("div",{className:"or-separator",children:Object(O.jsx)("p",{children:"or"})})},w=function(e){return Object(O.jsx)("img",{src:"/HackZurich21/selected.png",title:"Selected",className:e.className,alt:"Selected"})},N=function(e){var t=e.value,s=e.onClick,n=e.className;return Object(O.jsx)("div",{onClick:function(){return s()},className:"w-full mb-4 pt-4 pb-4 rounded-lg text-m font-semibold "+n,children:t})},k=function(e){return Object(O.jsx)(N,Object(f.a)(Object(f.a)({},e),{},{className:"bg-violett text-white text-center"}))},S=function(e){return Object(O.jsx)(N,Object(f.a)(Object(f.a)({},e),{},{className:"bg-white text-black border border-black text-center"}))},C=function(e){var t=e.isSelected;return Object(O.jsxs)("div",{className:"relative h-70",children:[Object(O.jsx)(N,Object(f.a)(Object(f.a)({},e),{},{className:"bg-lightGrey text-black text-left pl-4"})),t?Object(O.jsx)(w,{className:"h-5 w-auto absolute right-0 top-1/2 transform -translate-y-1/2 mr-4"}):null]})},F=function(e){var t=e.headline,s=e.subheadline,n=e.imgUrl,c=e.onClick;return Object(O.jsxs)("div",{className:"relative h-52 rounded-lg overflow-hidden mb-4",onClick:c,children:[Object(O.jsx)("img",{src:n,title:"Story Preview Thumbnail",className:"w-full h-full absolute top-0 left-0 object-cover object-center",alt:"Story Preview Thumbnail"}),Object(O.jsx)("div",{className:"absolute w-full h-full bg-black opacity-40 z-10"}),Object(O.jsxs)("div",{className:"absolute z-20 bottom-0 pl-3 pr-3 pb-5",children:[Object(O.jsx)("p",{className:"text-white text-s pb-2",children:s}),Object(O.jsx)("p",{className:"text-white text-l font-semibold",children:t})]})]})},T=s(103),L=s(49),q=Object(L.a)({palette:{primary:{main:"#222222"},secondary:{light:"#222222",main:"#222222",contrastText:"#222222"},contrastThreshold:3,tonalOffset:.2}}),B=function(e){return Object(O.jsx)(T.a,{value:e.value,min:e.min,step:e.step,max:e.max,onChange:function(t,s){"number"===typeof s&&e.onChange(s)},"aria-labelledby":"non-linear-slider",color:"primary",theme:q})},E=s(106),U=s(104),z=s(29),H=s.n(z),M=H.a.create({baseURL:"https://hbr26fk6lf.execute-api.eu-central-1.amazonaws.com",headers:{"Content-Type":"application/json"}}),R=function(e){var t=e.response;if(t&&"".concat(t.status).match(/^[4|5]\d{2}$/)){var s="\nrequest to: ".concat(t.request.responseURL);return t.data.status?(s+="\nstatus code: ".concat(t.data.status),s+="\nerror: ".concat(t.data.error),s+="\nerror message: ".concat(t.data.message)):(s+="\nstatus code: ".concat(t.status),s+="\nerror message:\n".concat(t.data)),console.log("The request was made and answered but was unsuccessful.",e.response),s}return e.message.match(/Network Error/)&&alert("The server cannot be reached.\nDid you start it?"),console.log("Something else happened.",e),e.message},Z=function(e){Object(m.a)(s,e);var t=Object(x.a)(s);function s(){var e;return Object(d.a)(this,s),(e=t.call(this)).state={step:"time",time:15,format:"best-experience",stories:null},e}return Object(h.a)(s,[{key:"changeStep",value:function(e){this.setState({step:e})}},{key:"changeTime",value:function(e){this.setState({time:e})}},{key:"changeFormat",value:function(e){this.setState({format:e})}},{key:"requestStories",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,s,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.stringify({time:60*this.state.time,format:this.state.format,interests:["Europe","Technology"]}),e.next=4,M.post("/stage/selectStories",t);case 4:s=e.sent,n=JSON.parse(s.data.body),this.setState({stories:n.storyIds}),console.log(this.state.stories),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),R(e.t0),console.log(e.t0);case 14:return e.prev=14,this.changeStep("story"),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"openStory",value:function(e){console.log(e),this.props.history.push("/story/".concat(e))}},{key:"renderCurrentQuestion",value:function(){var e=this;switch(this.state.step){case"time":return Object(O.jsxs)(v,{children:[Object(O.jsx)("div",{className:"font-body text-xl text-center font-normal mb-8",children:Object(O.jsxs)("h1",{children:["I have time for about ",Object(O.jsxs)("span",{className:"font-semibold",children:[this.state.time," Minutes"]})]})}),Object(O.jsx)("div",{className:"mt-0 mb-0 mr-auto ml-auto w-10/12",children:Object(O.jsx)(B,{min:1,max:30,step:1,value:this.state.time,onChange:function(t){return e.changeTime(t)}})}),Object(O.jsx)(p,{children:Object(O.jsx)(k,{value:"Next",onClick:function(){return e.changeStep("mood")}})})]});case"mood":return Object(O.jsxs)(v,{children:[Object(O.jsx)("div",{className:"font-body text-xl text-center font-normal mb-8",children:Object(O.jsxs)("h1",{children:["What do you ",Object(O.jsx)("span",{className:"font-semibold",children:"like"})," right now?"]})}),Object(O.jsx)(C,{value:"Best experience",isSelected:"best-experience"===this.state.format,onClick:function(){return e.changeFormat("best-experience")}}),Object(O.jsx)(C,{value:"Only Videos",isSelected:"only-videos"===this.state.format,onClick:function(){return e.changeFormat("only-videos")}}),Object(O.jsx)(C,{value:"Only Audios",isSelected:"only-audios"===this.state.format,onClick:function(){return e.changeFormat("only-audios")}}),Object(O.jsx)(p,{children:Object(O.jsx)(k,{value:"Next",onClick:function(){return e.requestStories()}})})]});case"story":return Object(O.jsxs)(v,{children:[Object(O.jsx)("div",{className:"font-body text-xl text-center font-normal mb-8",children:Object(O.jsxs)("h1",{children:["Choose your ",Object(O.jsx)("span",{className:"font-semibold",children:"story"})]})}),Object(O.jsx)(F,{onClick:function(){return e.openStory(e.state.stories[0].id)},headline:this.state.stories[0].title,subheadline:this.state.stories[0].lead,imgUrl:this.state.stories[0].thumbnail}),Object(O.jsx)(F,{onClick:function(){return e.openStory(e.state.stories[1].id)},headline:this.state.stories[1].title,subheadline:this.state.stories[1].lead,imgUrl:this.state.stories[1].thumbnail}),Object(O.jsx)(y,{}),Object(O.jsx)(S,{value:"Explore",onClick:function(){return e.openStory(e.state.stories[2].id)}}),Object(O.jsx)(S,{value:"Daily News"}),Object(O.jsx)("div",{className:"mb-12"})]});default:return Object(O.jsx)("p",{children:"No step"})}}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"mt-0 mb-0 mr-auto ml-auto w-11/12",children:[Object(O.jsx)(g,{}),Object(O.jsx)(E.a,{children:Object(O.jsx)(U.a,{timeout:400,classNames:"fade",exit:!1,children:this.renderCurrentQuestion()},this.state.step)})]})}}]),s}(a.a.Component),D=Object(l.i)(Z),I=s(11),J=function(e){var t=e.title,s=e.author,n=e.duration,c=e.bg;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"w-full min-h-screen bg-black relative flex flex-col justify-end content-container mb-10",children:[Object(O.jsx)("img",{src:c,title:t,className:"w-full h-full absolute top-0 left-0 object-cover object-center",alt:t}),Object(O.jsx)("div",{className:"bg-gradient-to-t from-black w-full h-full absolute top-0 left-0"}),Object(O.jsxs)("div",{className:"mb-8 mt-96",children:[Object(O.jsx)("div",{className:"text-white font-serif font-black text-h1 relative mb-4",children:t}),Object(O.jsxs)("div",{className:"text-white text-tinyText italic relative",children:["Eine ",Object(O.jsx)("b",{className:"font-bold",children:s})," Story. ",Object(O.jsx)("br",{}),"Dauer ca. ",n,"."]})]})]})})},P=s(48),W=s.n(P),G=function(){return Object(O.jsx)("svg",{width:"100%",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 0.5C5.87258 0.5 0.5 5.87258 0.5 12.5C0.5 19.1274 5.87258 24.5 12.5 24.5C19.1274 24.5 24.5 19.1274 24.5 12.5C24.5 5.87258 19.1274 0.5 12.5 0.5ZM19.0303 11.9697L14.2574 7.1967C13.9645 6.90381 13.4896 6.90381 13.1967 7.1967C12.9038 7.48959 12.9038 7.96447 13.1967 8.25736L16.6893 11.75L6.5 11.75V13.25L16.6893 13.25L13.1967 16.7426C12.9038 17.0355 12.9038 17.5104 13.1967 17.8033C13.4896 18.0962 13.9645 18.0962 14.2574 17.8033L19.0303 13.0303C19.3232 12.7374 19.3232 12.2626 19.0303 11.9697Z",fill:"white"})})},Q=(n={paragraph:function(e){var t=e.value,s=e.type,n=void 0===s?"text":s;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:W()("content-container mb-10 text-body","lead"===n&&"font-bold"),children:Object(O.jsx)("p",{children:t})})})},video:function(e){var t=e.value,s=Object(c.useState)(),n=Object(I.a)(s,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){r(window.screen.availHeight)}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"w-full h-screen overflow-hidden relative container mt-20 mb-20",children:Object(O.jsx)("div",{className:"absolute top-0 left-0 w-full h-full",children:Object(O.jsx)("iframe",{title:"video",src:t,width:a/16*9,height:a,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture"})})})})},quote:function(e){var t=e.value,s=e.author;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"content-container mt-10 mb-10",children:[Object(O.jsxs)("p",{className:"text-h2 leading-9 mb-2",children:["\xab",t,"\xbb"]}),Object(O.jsxs)("span",{className:"text-tinyText italic",children:["Ein Zitat von ",Object(O.jsx)("b",{className:"font-bold",children:s}),"."]})]})})},audio:function(e){var t=e.value;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"w-full overflow-hidden relative container mt-20 mb-20",children:Object(O.jsx)("div",{className:"",children:Object(O.jsx)("iframe",{title:"audio",src:t,width:"100%",height:"550px",frameBorder:"0",allowtransparency:"true",allow:"encrypted-media"})})})})},images:function(e){var t=e.images;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"container overflow-hidden mt-20 mb-20",children:[Object(O.jsx)("div",{className:"w-60 h-60 relative",children:Object(O.jsx)("img",{src:t[0],alt:"Sch\xf6nes Bild \u2013 Wow",className:"object-cover absolute w-full h-full top-0 left-0"})}),Object(O.jsx)("div",{className:"w-96 h-96 ml-20 -mt-10 relative",children:Object(O.jsx)("img",{src:t[1],alt:"Sch\xf6nes Bild \u2013 Wow",className:"object-cover absolute w-full h-full top-0 left-0"})}),Object(O.jsx)("div",{className:"w-72 h-72 ml-8 -mt-24 relative",children:Object(O.jsx)("img",{src:t[2],alt:"Sch\xf6nes Bild \u2013 Wow",className:"object-cover absolute w-full h-full top-0 left-0"})})]})})}},function(e){var t=n[e.type];return void 0===t?null:Object(O.jsx)(t,Object(f.a)({},e),e.id)}),V=H.a.create({baseURL:"https://hbr26fk6lf.execute-api.eu-central-1.amazonaws.com",headers:{"Content-Type":"application/json"}}),A=function(){var e=Object(c.useState)(void 0),t=Object(I.a)(e,2),s=t[0],n=t[1],a=Object(l.g)(),r=Object(l.h)().id,i=function(){var e=Object(b.a)(j.a.mark((function e(){var t,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.get("/stage/story/".concat(r));case 3:t=e.sent,s=t.data.story,n(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),Object(c.useEffect)((function(){console.log("stories",s)}),[s]),Object(O.jsx)(O.Fragment,{children:s&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{onClick:function(){return a.push("/questions")},className:"fixed top-5 left-5 z-50 w-7 h-7 transform rotate-180",children:Object(O.jsx)(G,{})}),Object(O.jsx)(J,{title:s.title,author:"Merlin Gelpeko",duration:"".concat(s.consume_time," Sekunden"),bg:s.thumbnail}),s.body.map((function(e,t){return Object(O.jsx)(O.Fragment,{children:Q(Object(f.a)(Object(f.a)({},e),{},{id:t}))})}))]})})};var $=function(){return Object(O.jsx)(o.a,{children:Object(O.jsx)(l.b,{render:function(e){var t=e.location;return Object(O.jsxs)(l.d,{location:t,children:[Object(O.jsx)(l.b,{path:"/questions",component:D}),Object(O.jsx)(l.b,{path:"/story/:id",component:A}),Object(O.jsx)(l.a,{to:"/questions"})]})}})})},_=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,107)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)($,{})}),document.getElementById("root")),_()}},[[90,1,2]]]);
//# sourceMappingURL=main.482d164d.chunk.js.map