(this["webpackJsonpstory-hub"]=this["webpackJsonpstory-hub"]||[]).push([[0],{59:function(e,t,s){},60:function(e,t,s){},87:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(19),r=s.n(c),o=(s(59),s(60),s(30)),i=s(7),l=s(31),u=s.n(l),b=s(42),h=s(43),j=s(44),d=s(49),m=s(48),x=s(18),f=s(2),O=function(e){return Object(f.jsx)("div",{className:"font-body",children:e.children})},p=function(e){return Object(f.jsx)("div",{className:"absolute bottom-6 w-11/12",children:e.children})},v=function(e){return Object(f.jsx)("img",{src:"/HackZurich21/logo.png",title:"Story Hub",className:"mt-12 mb-9 mr-auto ml-auto w-16 h-auto",alt:"Story Hub Logo"})},g=function(e){return Object(f.jsx)("div",{className:"or-separator",children:Object(f.jsx)("p",{children:"or"})})},y=function(e){return Object(f.jsx)("img",{src:"/HackZurich21/selected.png",title:"Selected",className:e.className,alt:"Selected"})},N=function(e){var t=e.value,s=e.onClick,n=e.className;return Object(f.jsx)("div",{onClick:function(){return s()},className:"w-full mb-4 pt-4 pb-4 rounded-lg text-m font-semibold "+n,children:t})},k=function(e){return Object(f.jsx)(N,Object(x.a)(Object(x.a)({},e),{},{className:"bg-violett text-white text-center"}))},S=function(e){return Object(f.jsx)(N,Object(x.a)(Object(x.a)({},e),{},{className:"bg-white text-black border border-black text-center"}))},w=function(e){var t=e.isSelected;return Object(f.jsxs)("div",{className:"relative h-70",children:[Object(f.jsx)(N,Object(x.a)(Object(x.a)({},e),{},{className:"bg-lightGrey text-black text-left pl-4"})),t?Object(f.jsx)(y,{className:"h-5 w-auto absolute right-0 top-1/2 transform -translate-y-1/2 mr-4"}):null]})},C=function(e){var t=e.headline,s=e.subheadline,n=e.imgUrl,a=e.onClick;return Object(f.jsxs)("div",{className:"relative h-52 rounded-lg overflow-hidden mb-4",onClick:a,children:[Object(f.jsx)("img",{src:n,title:"Story Preview Thumbnail",className:"w-full h-full absolute top-0 left-0 object-cover object-center",alt:"Story Preview Thumbnail"}),Object(f.jsx)("div",{className:"absolute w-full h-full bg-black opacity-40 z-10"}),Object(f.jsxs)("div",{className:"absolute z-20 bottom-0 pl-3 pr-3 pb-5",children:[Object(f.jsx)("p",{className:"text-white text-s pb-2",children:s}),Object(f.jsx)("p",{className:"text-white text-l font-semibold",children:t})]})]})},T=s(100),F=s(47),q=Object(F.a)({palette:{primary:{main:"#222222"},secondary:{light:"#222222",main:"#222222",contrastText:"#222222"},contrastThreshold:3,tonalOffset:.2}}),L=function(e){return Object(f.jsx)(T.a,{value:e.value,min:e.min,step:e.step,max:e.max,onChange:function(t,s){"number"===typeof s&&e.onChange(s)},"aria-labelledby":"non-linear-slider",color:"primary",theme:q})},U=s(103),E=s(101),H=s(45),I=s.n(H).a.create({baseURL:"https://hbr26fk6lf.execute-api.eu-central-1.amazonaws.com",headers:{"Content-Type":"application/json"}}),J=function(e){var t=e.response;if(t&&"".concat(t.status).match(/^[4|5]\d{2}$/)){var s="\nrequest to: ".concat(t.request.responseURL);return t.data.status?(s+="\nstatus code: ".concat(t.data.status),s+="\nerror: ".concat(t.data.error),s+="\nerror message: ".concat(t.data.message)):(s+="\nstatus code: ".concat(t.status),s+="\nerror message:\n".concat(t.data)),console.log("The request was made and answered but was unsuccessful.",e.response),s}return e.message.match(/Network Error/)&&alert("The server cannot be reached.\nDid you start it?"),console.log("Something else happened.",e),e.message},P=function(e){Object(d.a)(s,e);var t=Object(m.a)(s);function s(){var e;return Object(h.a)(this,s),(e=t.call(this)).state={step:"time",time:15,format:"best-experience",stories:null},e}return Object(j.a)(s,[{key:"changeStep",value:function(e){this.setState({step:e})}},{key:"changeTime",value:function(e){this.setState({time:e})}},{key:"changeFormat",value:function(e){this.setState({format:e})}},{key:"requestStories",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t,s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.stringify({time:60*this.state.time,format:this.state.format,interests:["Europe","Technology"]}),e.next=4,I.post("/stage/selectStories",t);case 4:s=e.sent,n=JSON.parse(s.data.body),this.setState({stories:n.storyIds}),console.log(this.state.stories),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),J(e.t0),console.log(e.t0);case 14:return e.prev=14,this.changeStep("story"),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"openStory",value:function(e){console.log(e),this.props.history.push("/story/".concat(e))}},{key:"renderCurrentQuestion",value:function(){var e=this;switch(this.state.step){case"time":return Object(f.jsxs)(O,{children:[Object(f.jsx)("h1",{className:"font-body text-xl text-center font-normal mb-8",children:Object(f.jsxs)("h1",{children:["I have time for about ",Object(f.jsxs)("span",{className:"font-semibold",children:[this.state.time," Minutes"]})]})}),Object(f.jsx)("div",{className:"mt-0 mb-0 mr-auto ml-auto w-10/12",children:Object(f.jsx)(L,{min:1,max:30,step:1,value:this.state.time,onChange:function(t){return e.changeTime(t)}})}),Object(f.jsx)(p,{children:Object(f.jsx)(k,{value:"Next",onClick:function(){return e.changeStep("mood")}})})]});case"mood":return Object(f.jsxs)(O,{children:[Object(f.jsx)("h1",{className:"font-body text-xl text-center font-normal mb-8",children:Object(f.jsxs)("h1",{children:["What do you ",Object(f.jsx)("span",{className:"font-semibold",children:"like"})," right now?"]})}),Object(f.jsx)(w,{value:"Best experience",isSelected:"best-experience"===this.state.format,onClick:function(){return e.changeFormat("best-experience")}}),Object(f.jsx)(w,{value:"Only Videos",isSelected:"only-videos"===this.state.format,onClick:function(){return e.changeFormat("only-videos")}}),Object(f.jsx)(w,{value:"Only Audios",isSelected:"only-audios"===this.state.format,onClick:function(){return e.changeFormat("only-audios")}}),Object(f.jsx)(p,{children:Object(f.jsx)(k,{value:"Next",onClick:function(){return e.requestStories()}})})]});case"story":return Object(f.jsxs)(O,{children:[Object(f.jsx)("h1",{className:"font-body text-xl text-center font-normal mb-8",children:Object(f.jsxs)("h1",{children:["Choose your ",Object(f.jsx)("span",{className:"font-semibold",children:"story"})]})}),Object(f.jsx)(C,{onClick:function(){return e.openStory(e.state.stories[0].id)},headline:this.state.stories[0].title,subheadline:this.state.stories[0].lead,imgUrl:this.state.stories[0].thumbnail}),Object(f.jsx)(C,{onClick:function(){return e.openStory(e.state.stories[1].id)},headline:this.state.stories[1].title,subheadline:this.state.stories[1].lead,imgUrl:this.state.stories[1].thumbnail}),Object(f.jsx)(g,{}),Object(f.jsx)(S,{value:"Explore",onClick:function(){return e.openStory(e.state.stories[2].id)}}),Object(f.jsx)(S,{value:"Daily News"}),Object(f.jsx)("div",{className:"mb-12"})]});default:return Object(f.jsx)("p",{children:"No step"})}}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:"mt-0 mb-0 mr-auto ml-auto w-11/12",children:[Object(f.jsx)(v,{}),Object(f.jsx)(U.a,{children:Object(f.jsx)(E.a,{timeout:400,classNames:"fade",exit:!1,children:this.renderCurrentQuestion()},this.state.step)})]})}}]),s}(a.a.Component),z=Object(i.g)(P),B=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"w-full h-screen bg-black",children:"test"})})};var D=function(){return Object(f.jsx)(o.a,{children:Object(f.jsx)(i.b,{render:function(e){var t=e.location;return Object(f.jsxs)(i.d,{location:t,children:[Object(f.jsx)(i.b,{path:"/questions",component:z}),Object(f.jsx)(i.b,{path:"/story/:id",component:B}),Object(f.jsx)(i.a,{to:"/questions"})]})}})})},M=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,104)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root")),M()}},[[87,1,2]]]);
//# sourceMappingURL=main.6adfa971.chunk.js.map